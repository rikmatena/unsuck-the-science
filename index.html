<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>UnSuck the Science</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'/>
    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js'></script>
    <link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic'>
    <script type='text/javascript' src='../unsuck-the-science/assets/js/sheetsee.js'></script>
    <script type='text/javascript' src='../unsuck-the-science/assets/js/bootstrap.js'></script>
    <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.3.4/tabletop.js'></script>
    <link rel='stylesheet' type='text/css' href='http://api.tiles.mapbox.com/mapbox.js/v1.0.0/mapbox.css'>


    <link rel='stylesheet' type='text/css' href='../unsuck-the-science/assets/css/main.css'>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

    <!-- start Mixpanel --><script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="http://cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
mixpanel.init("6f91a85ae7d6a9649be9707fcfcd16e9");</script><!-- end Mixpanel -->

  </head>

<body>

  <div class="top">
    <div class="container">
      <div class="row">
        <div class="page-header">
          <h1>UnSuck the Science</h1>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">

      <div class="col-md-6">
        <div class="bs-callout bs-callout-success">
          <h4>List of things that suck in science.</h4>
          <p>Contribute by updating the <a href="https://docs.google.com/spreadsheets/d/19SxOrpZltHsMTHLJ2Di0TqT2Dgd8ibvXDEHQUV7x-m4/edit#gid=0">spreadsheet</a>. The first 2 entries are dummy examples. Click each cell in the top row for more info.</p>
        </div>
      </div>

      <div class="col-md-12">
        <div id="articlesTable"></div>
      </div>

      <div class="col-md-12">
        <p class="powered">Powered by <a href="https://github.com/jlord/sheetsee.js">sheetsee.js</a></p>
      </div>      

    </div>
  </div>

  <script id="articlesTable" type="text/html">

    <div class="panel-group" id="accordion">

  	  {{#rows}}

        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">
              <a data-toggle="collapse" data-parent="#accordion" href="#collapse{{rowNumber}}">
                {{rowNumber}}. {{painonesentence}}<br>
                <span class="keyword"><strong>{{keyword}}</strong></span>. <span class="added-by">Added by {{addedby}}. <span class="link-coverup">Click to expand</span>.</a>
              </a>
            </h4>
          </div>
          <div id="collapse{{rowNumber}}" class="panel-collapse collapse">
            <div class="panel-body">

              <div class="page-header">
                <h4>Pain in longform <small>if applicable</small></h4>
              </div>
              <p>{{painlongform}}</p>

              <div class="page-header">
                <h4>Compared to now, what would be ideal?</h4>
              </div>
              <p>{{idealsituation}}</p>

              <div class="page-header">
                <h4>Quick thoughts about possible solution, if haz</h4>
              </div>
              <p>{{possiblesolution}}</p>

            </div>
          </div>
        </div>

  	  {{/rows}}

    </div>
	</script>

  <script type="text/javascript">
    mixpanel.track("viewed Homepage")
  </script>

  <script type="text/javascript">
   document.addEventListener('DOMContentLoaded', function() {
   	var URL = "19SxOrpZltHsMTHLJ2Di0TqT2Dgd8ibvXDEHQUV7x-m4"
  		Tabletop.init( { key: URL, callback: showInfo, simpleSheet: true } )
  	})

    function showInfo(data) {

    	var tableOptions = {
          "data": data, 
          "pagination": 25, 
          "tableDiv": "#articlesTable"
        }

	  	// make the table, and the search bar
	  	Sheetsee.makeTable(tableOptions)

      // var cali = Sheetsee.getOccurance(data, "state")
      // var colors = ['#ff00ff', '#acacac']
      // var caliData = Sheetsee.makeColorArrayOfObject(cali, colors)
      // var lineOptions = { units: "units",
      //                     labels: "undefined",
      //                     m: [80, 100, 120, 100],
      //                     w: 800, h: 400,
      //                     div: "#pennies",
      //                     yaxis: "pennies",
      //                     hiColor: "#E4EB29"
      //                   }
      // Sheetsee.d3LineChart(caliData, lineOptions)
    }
  </script>

  </body>
</html>
